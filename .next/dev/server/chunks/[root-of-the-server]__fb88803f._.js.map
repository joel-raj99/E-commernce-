{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/lib/db.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst connectDB = async () => {\r\n  if (mongoose.connections[0].readyState) return;\r\n\r\n  try {\r\n    await mongoose.connect(process.env.MONGODB_URI);\r\n    console.log(\"MongoDB connected\");\r\n  } catch (error) {\r\n    console.error(\"MongoDB connection error:\", error);\r\n  }\r\n};\r\n\r\nexport default connectDB;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,YAAY;IAChB,IAAI,oHAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE;IAExC,IAAI;QACF,MAAM,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,WAAW;QAC9C,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;IAC7C;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/models/ProductModel.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst productSchema = new mongoose.Schema(\r\n  {\r\n    name: String,\r\n    price: Number,\r\n    description: String,\r\n    category: String,\r\n    quantity: Number,\r\n    power: String,\r\n    usage: String,\r\n    numberOfSpeeds: Number,\r\n    isiCertified: Boolean,\r\n    warranty: String,\r\n    uses: String,\r\n    bodyMaterial: String,\r\n    numberOfBlades: Number,\r\n    countryOfOrigin: String,\r\n    voltage: String,\r\n    frequency: String,\r\n    brandName: String,\r\n    modelName: String,\r\n    material: String,\r\n    color: String,\r\n    images: [\r\n      {\r\n        data: String, // Base64 encoded\r\n        contentType: String,\r\n      },\r\n    ],\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.models.Product ||\r\n  mongoose.model(\"Product\", productSchema);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,gBAAgB,IAAI,oHAAQ,CAAC,MAAM,CACvC;IACE,MAAM;IACN,OAAO;IACP,aAAa;IACb,UAAU;IACV,UAAU;IACV,OAAO;IACP,OAAO;IACP,gBAAgB;IAChB,cAAc;IACd,UAAU;IACV,MAAM;IACN,cAAc;IACd,gBAAgB;IAChB,iBAAiB;IACjB,SAAS;IACT,WAAW;IACX,WAAW;IACX,WAAW;IACX,UAAU;IACV,OAAO;IACP,QAAQ;QACN;YACE,MAAM;YACN,aAAa;QACf;KACD;AACH,GACA;IAAE,YAAY;AAAK;uCAGN,oHAAQ,CAAC,MAAM,CAAC,OAAO,IACpC,oHAAQ,CAAC,KAAK,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/api/product/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport connectDB from \"@/app/lib/db\";\r\nimport Product from \"@/app/models/ProductModel\";\r\n\r\nexport async function POST(req) {\r\n  try {\r\n    await connectDB();\r\n\r\n    // ✅ Get Form Data (Next.js built-in)\r\n    const formData = await req.formData();\r\n\r\n    // Extract all fields\r\n    const name = formData.get(\"name\");\r\n    const price = Number(formData.get(\"price\"));\r\n    const description = formData.get(\"description\");\r\n    const category = formData.get(\"category\");\r\n    const quantity = Number(formData.get(\"quantity\"));\r\n    const power = formData.get(\"power\");\r\n    const usage = formData.get(\"usage\");\r\n    const numberOfSpeeds = Number(formData.get(\"numberOfSpeeds\"));\r\n    const isiCertified = formData.get(\"isiCertified\") === \"true\";\r\n    const warranty = formData.get(\"warranty\");\r\n    const uses = formData.get(\"uses\");\r\n    const bodyMaterial = formData.get(\"bodyMaterial\");\r\n    const numberOfBlades = Number(formData.get(\"numberOfBlades\"));\r\n    const countryOfOrigin = formData.get(\"countryOfOrigin\");\r\n    const voltage = formData.get(\"voltage\");\r\n    const frequency = formData.get(\"frequency\");\r\n    const brandName = formData.get(\"brandName\");\r\n    const modelName = formData.get(\"modelName\");\r\n    const material = formData.get(\"material\");\r\n    const color = formData.get(\"color\");\r\n\r\n    // ✅ Handle multiple images\r\n    const files = formData.getAll(\"images\");\r\n    const images = [];\r\n\r\n    for (const file of files) {\r\n      if (!file) continue;\r\n\r\n      const buffer = Buffer.from(await file.arrayBuffer());\r\n      images.push({\r\n        data: buffer.toString(\"base64\"),\r\n        contentType: file.type,\r\n      });\r\n    }\r\n\r\n    // Check if no images were uploaded\r\n    if (images.length === 0) {\r\n      return NextResponse.json({ error: \"No images uploaded\" }, { status: 400 });\r\n    }\r\n\r\n    // ✅ Create new product\r\n    const product = new Product({\r\n      name,\r\n      price,\r\n      description,\r\n      category,\r\n      quantity,\r\n      power,\r\n      usage,\r\n      numberOfSpeeds,\r\n      isiCertified,\r\n      warranty,\r\n      uses,\r\n      bodyMaterial,\r\n      numberOfBlades,\r\n      countryOfOrigin,\r\n      voltage,\r\n      frequency,\r\n      brandName,\r\n      modelName,\r\n      material,\r\n      color,\r\n      images, // store as base64 array\r\n    });\r\n\r\n    await product.save();\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: \"Product added successfully\",\r\n      product,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error adding product:\", error);\r\n    return NextResponse.json({ success: false, error: error.message }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,IAAA,oIAAS;QAEf,qCAAqC;QACrC,MAAM,WAAW,MAAM,IAAI,QAAQ;QAEnC,qBAAqB;QACrB,MAAM,OAAO,SAAS,GAAG,CAAC;QAC1B,MAAM,QAAQ,OAAO,SAAS,GAAG,CAAC;QAClC,MAAM,cAAc,SAAS,GAAG,CAAC;QACjC,MAAM,WAAW,SAAS,GAAG,CAAC;QAC9B,MAAM,WAAW,OAAO,SAAS,GAAG,CAAC;QACrC,MAAM,QAAQ,SAAS,GAAG,CAAC;QAC3B,MAAM,QAAQ,SAAS,GAAG,CAAC;QAC3B,MAAM,iBAAiB,OAAO,SAAS,GAAG,CAAC;QAC3C,MAAM,eAAe,SAAS,GAAG,CAAC,oBAAoB;QACtD,MAAM,WAAW,SAAS,GAAG,CAAC;QAC9B,MAAM,OAAO,SAAS,GAAG,CAAC;QAC1B,MAAM,eAAe,SAAS,GAAG,CAAC;QAClC,MAAM,iBAAiB,OAAO,SAAS,GAAG,CAAC;QAC3C,MAAM,kBAAkB,SAAS,GAAG,CAAC;QACrC,MAAM,UAAU,SAAS,GAAG,CAAC;QAC7B,MAAM,YAAY,SAAS,GAAG,CAAC;QAC/B,MAAM,YAAY,SAAS,GAAG,CAAC;QAC/B,MAAM,YAAY,SAAS,GAAG,CAAC;QAC/B,MAAM,WAAW,SAAS,GAAG,CAAC;QAC9B,MAAM,QAAQ,SAAS,GAAG,CAAC;QAE3B,2BAA2B;QAC3B,MAAM,QAAQ,SAAS,MAAM,CAAC;QAC9B,MAAM,SAAS,EAAE;QAEjB,KAAK,MAAM,QAAQ,MAAO;YACxB,IAAI,CAAC,MAAM;YAEX,MAAM,SAAS,OAAO,IAAI,CAAC,MAAM,KAAK,WAAW;YACjD,OAAO,IAAI,CAAC;gBACV,MAAM,OAAO,QAAQ,CAAC;gBACtB,aAAa,KAAK,IAAI;YACxB;QACF;QAEA,mCAAmC;QACnC,IAAI,OAAO,MAAM,KAAK,GAAG;YACvB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAqB,GAAG;gBAAE,QAAQ;YAAI;QAC1E;QAEA,uBAAuB;QACvB,MAAM,UAAU,IAAI,iJAAO,CAAC;YAC1B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;QAEA,MAAM,QAAQ,IAAI;QAElB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;YACT;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACnF;AACF","debugId":null}}]
}