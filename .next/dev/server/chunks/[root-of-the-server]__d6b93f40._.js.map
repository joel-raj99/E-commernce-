{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/lib/db.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst connectDB = async () => {\r\n  if (mongoose.connections[0].readyState) return;\r\n\r\n  try {\r\n    await mongoose.connect(process.env.MONGODB_URI);\r\n    console.log(\"MongoDB connected\");\r\n  } catch (error) {\r\n    console.error(\"MongoDB connection error:\", error);\r\n  }\r\n};\r\n\r\nexport default connectDB;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,YAAY;IAChB,IAAI,oHAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE;IAExC,IAAI;QACF,MAAM,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,WAAW;QAC9C,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;IAC7C;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/models/ProductModel.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst productSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    price: { type: Number, required: true },\r\n    description: { type: String, required: true },\r\n    image: [{ type: String, required: true }],  // âœ… Array of image URLs â€” fine\r\n    category: { type: String, required: true },\r\n    quantity: { type: Number, default: 0, min: 0 }, // âœ… Inventory control\r\n\r\n    // Optional specs â€” all fine as they are\r\n    power: String,\r\n    usage: String,\r\n    numberOfSpeeds: Number,\r\n    isiCertified: Boolean,\r\n    warranty: String,\r\n    uses: String,\r\n    bodyMaterial: String,\r\n    numberOfBlades: Number,\r\n    countryOfOrigin: String,\r\n    voltage: String,\r\n    frequency: String,\r\n    brandName: String,\r\n    modelName: String,\r\n    material: String,\r\n    color: String,\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nconst Product =\r\n  mongoose.models.Product || mongoose.model(\"Product\", productSchema);\r\n\r\nexport default Product;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,gBAAgB,IAAI,oHAAQ,CAAC,MAAM,CACvC;IACE,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,OAAO;QAAE,MAAM;QAAQ,UAAU;IAAK;IACtC,aAAa;QAAE,MAAM;QAAQ,UAAU;IAAK;IAC5C,OAAO;QAAC;YAAE,MAAM;YAAQ,UAAU;QAAK;KAAE;IACzC,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,UAAU;QAAE,MAAM;QAAQ,SAAS;QAAG,KAAK;IAAE;IAE7C,wCAAwC;IACxC,OAAO;IACP,OAAO;IACP,gBAAgB;IAChB,cAAc;IACd,UAAU;IACV,MAAM;IACN,cAAc;IACd,gBAAgB;IAChB,iBAAiB;IACjB,SAAS;IACT,WAAW;IACX,WAAW;IACX,WAAW;IACX,UAAU;IACV,OAAO;AACT,GACA;IAAE,YAAY;AAAK;AAGrB,MAAM,UACJ,oHAAQ,CAAC,MAAM,CAAC,OAAO,IAAI,oHAAQ,CAAC,KAAK,CAAC,WAAW;uCAExC","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/api/product/route.js"],"sourcesContent":["// \"use server\";\r\n// import { NextResponse } from \"next/server\";\r\n// import  connectDB  from \"@/app/lib/db\";\r\n// import Product from \"@/app/models/ProductModel\";\r\n\r\n// // ðŸŸ¢ CREATE Product\r\n// export async function POST(req) {\r\n//   try {\r\n//     await connectDB();\r\n//     const body = await req.json();\r\n\r\n//     const newProduct = await Product.create(body);\r\n//     return NextResponse.json(\r\n//       { message: \"Product created successfully\", product: newProduct },\r\n//       { status: 201 }\r\n//     );\r\n//   } catch (error) {\r\n//     return NextResponse.json(\r\n//       { message: \"Error creating product\", error: error.message },\r\n//       { status: 500 }\r\n//     );\r\n//   }\r\n// }\r\n\r\n// // ðŸ”µ GET All Products\r\n// export async function GET() {\r\n//   try {\r\n//     await connectDB();\r\n//     const products = await Product.find({});\r\n//     return NextResponse.json(products, { status: 200 });\r\n//   } catch (error) {\r\n//     return NextResponse.json(\r\n//       { message: \"Error fetching products\", error: error.message },\r\n//       { status: 500 }\r\n//     );\r\n//   }\r\n// }\r\n\r\nimport { NextResponse } from \"next/server\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport  connectDB  from \"@/app/lib/db\";\r\nimport Product from \"@/app/models/ProductModel\";\r\n\r\nexport const runtime = \"nodejs\"; // ðŸ”¥ required for file system access\r\n\r\n// ðŸŸ¢ POST â€” Create product with multiple images\r\nexport async function POST(req) {\r\n  try {\r\n    await connectDB();\r\n\r\n    const formData = await req.formData();\r\n\r\n    // Extract all fields\r\n    const name = formData.get(\"name\");\r\n    const price = Number(formData.get(\"price\"));\r\n    const description = formData.get(\"description\");\r\n    const category = formData.get(\"category\");\r\n    const quantity = Number(formData.get(\"quantity\"));\r\n    const power = formData.get(\"power\");\r\n    const usage = formData.get(\"usage\");\r\n    const numberOfSpeeds = Number(formData.get(\"numberOfSpeeds\"));\r\n    const isiCertified = formData.get(\"isiCertified\") === \"true\";\r\n    const warranty = formData.get(\"warranty\");\r\n    const uses = formData.get(\"uses\");\r\n    const bodyMaterial = formData.get(\"bodyMaterial\");\r\n    const numberOfBlades = Number(formData.get(\"numberOfBlades\"));\r\n    const countryOfOrigin = formData.get(\"countryOfOrigin\");\r\n    const voltage = formData.get(\"voltage\");\r\n    const frequency = formData.get(\"frequency\");\r\n    const brandName = formData.get(\"brandName\");\r\n    const modelName = formData.get(\"modelName\");\r\n    const material = formData.get(\"material\");\r\n    const color = formData.get(\"color\");\r\n\r\n    // Handle multiple file uploads\r\n    const files = formData.getAll(\"images\");\r\n    const uploadDir = path.join(process.cwd(), \"public/uploads\");\r\n\r\n    if (!fs.existsSync(uploadDir)) {\r\n      fs.mkdirSync(uploadDir, { recursive: true });\r\n    }\r\n\r\n    const imagePaths = [];\r\n    for (const file of files) {\r\n      const buffer = Buffer.from(await file.arrayBuffer());\r\n      const filename = `${Date.now()}-${file.name.replace(/\\s+/g, \"_\")}`;\r\n      const filePath = path.join(uploadDir, filename);\r\n      fs.writeFileSync(filePath, buffer);\r\n      imagePaths.push(`/uploads/${filename}`);\r\n    }\r\n\r\n    const newProduct = await Product.create({\r\n      name,\r\n      price,\r\n      description,\r\n      images: imagePaths,\r\n      category,\r\n      quantity,\r\n      power,\r\n      usage,\r\n      numberOfSpeeds,\r\n      isiCertified,\r\n      warranty,\r\n      uses,\r\n      bodyMaterial,\r\n      numberOfBlades,\r\n      countryOfOrigin,\r\n      voltage,\r\n      frequency,\r\n      brandName,\r\n      modelName,\r\n      modelName,\r\n      material,\r\n      color,\r\n    });\r\n    return NextResponse.json(\r\n      { message: \"Product created successfully\", product: newProduct },\r\n      { status: 201 }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error creating product:\", error);\r\n    return NextResponse.json(\r\n      { message: \"Error creating product\", error: error.message },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// ðŸ”µ GET â€” Fetch all products\r\nexport async function GET() {\r\n  try {\r\n    await connectDB();\r\n    const products = await Product.find({});\r\n    return NextResponse.json(products, { status: 200 });\r\n  } catch (error) {\r\n    return NextResponse.json(\r\n      { message: \"Error fetching products\", error: error.message },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}