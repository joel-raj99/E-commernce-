{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/lib/db.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst connectDB = async () => {\r\n  if (mongoose.connections[0].readyState) return;\r\n\r\n  try {\r\n    await mongoose.connect(process.env.MONGODB_URI);\r\n    console.log(\"MongoDB connected\");\r\n  } catch (error) {\r\n    console.error(\"MongoDB connection error:\", error);\r\n  }\r\n};\r\n\r\nexport default connectDB;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,YAAY;IAChB,IAAI,oHAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE;IAExC,IAAI;QACF,MAAM,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,WAAW;QAC9C,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;IAC7C;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/models/UserModels.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst UserSchema = new mongoose.Schema({\r\n  username: { type: String, required: true },\r\n  email:    { type: String, required: true, unique: true },\r\n  password: { type: String, required: true },\r\n  role:     { type: String, enum: [\"admin\", \"user\"], default: \"user\" },\r\n});\r\n\r\nexport default mongoose.models.User || mongoose.model(\"User\", UserSchema);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACrC,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,OAAU;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACvD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,MAAU;QAAE,MAAM;QAAQ,MAAM;YAAC;YAAS;SAAO;QAAE,SAAS;IAAO;AACrE;uCAEe,oHAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,oHAAQ,CAAC,KAAK,CAAC,QAAQ","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/api/auth/Login/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport bcrypt from \"bcryptjs\";\r\nimport connectDB from \"@/app/lib/db\";\r\nimport User from \"@/app/models/UserModels\";\r\n\r\nexport async function POST(req) {\r\n  try {\r\n    await connectDB();\r\n    const { email, password } = await req.json();\r\n\r\n    const user = await User.findOne({ email });\r\n    if (!user) return NextResponse.json({ message: \"User not found\" }, { status: 404 });\r\n\r\n    const isMatch = await bcrypt.compare(password, user.password);\r\n    if (!isMatch)\r\n      return NextResponse.json({ message: \"Invalid credentials\" }, { status: 401 });\r\n\r\n    const token = jwt.sign(\r\n      { id: user._id, email: user.email, role: user.role },\r\n      process.env.JWT_SECRET,\r\n      { expiresIn: \"1d\" }\r\n    );\r\n\r\n    const res = NextResponse.json({\r\n      message: \"Login successful\",\r\n      user: { id: user._id, username: user.username, role: user.role },\r\n    });\r\n\r\n    res.cookies.set(\"token\", token, {\r\n      httpOnly: true,\r\n      secure: process.env.NODE_ENV === \"production\",\r\n      maxAge: 60 * 60 * 24,\r\n      path: \"/\",\r\n    });\r\n\r\n    return res;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return NextResponse.json({ message: \"Server error\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,IAAA,oIAAS;QACf,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAE1C,MAAM,OAAO,MAAM,+IAAI,CAAC,OAAO,CAAC;YAAE;QAAM;QACxC,IAAI,CAAC,MAAM,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAiB,GAAG;YAAE,QAAQ;QAAI;QAEjF,MAAM,UAAU,MAAM,8IAAM,CAAC,OAAO,CAAC,UAAU,KAAK,QAAQ;QAC5D,IAAI,CAAC,SACH,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAsB,GAAG;YAAE,QAAQ;QAAI;QAE7E,MAAM,QAAQ,kJAAG,CAAC,IAAI,CACpB;YAAE,IAAI,KAAK,GAAG;YAAE,OAAO,KAAK,KAAK;YAAE,MAAM,KAAK,IAAI;QAAC,GACnD,QAAQ,GAAG,CAAC,UAAU,EACtB;YAAE,WAAW;QAAK;QAGpB,MAAM,MAAM,gJAAY,CAAC,IAAI,CAAC;YAC5B,SAAS;YACT,MAAM;gBAAE,IAAI,KAAK,GAAG;gBAAE,UAAU,KAAK,QAAQ;gBAAE,MAAM,KAAK,IAAI;YAAC;QACjE;QAEA,IAAI,OAAO,CAAC,GAAG,CAAC,SAAS,OAAO;YAC9B,UAAU;YACV,QAAQ,oDAAyB;YACjC,QAAQ,KAAK,KAAK;YAClB,MAAM;QACR;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAe,GAAG;YAAE,QAAQ;QAAI;IACtE;AACF","debugId":null}}]
}