{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/lib/db.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst connectDB = async () => {\r\n  if (mongoose.connections[0].readyState) return;\r\n\r\n  try {\r\n    await mongoose.connect(process.env.MONGODB_URI);\r\n    console.log(\"MongoDB connected\");\r\n  } catch (error) {\r\n    console.error(\"MongoDB connection error:\", error);\r\n  }\r\n};\r\n\r\nexport default connectDB;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,YAAY;IAChB,IAAI,oHAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE;IAExC,IAAI;QACF,MAAM,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,WAAW;QAC9C,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;IAC7C;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/models/ProductModel.js"],"sourcesContent":["// import mongoose from \"mongoose\";\r\n\r\n// const ProductSchema = new mongoose.Schema(\r\n//   {\r\n//     name: {\r\n//       type: String,\r\n//       required: true,\r\n//     },\r\n//     price: {\r\n//       type: Number,\r\n//       required: true,\r\n//     },\r\n//     description: {\r\n//       type: String,\r\n//       required: true,\r\n//     },\r\n//     image: {\r\n//       type: String,\r\n//       required: true,\r\n//     },\r\n//     category: {\r\n//       type: String,\r\n//       required: true,\r\n//     },\r\n//     quantity: {\r\n//       type: Number,\r\n//       default: 0,\r\n//       required: true,\r\n//       min: 0,\r\n//     },\r\n\r\n//     // ðŸ”§ Additional fields from your data\r\n//     power: {\r\n//       type: String, // e.g., \"750W\"\r\n//       required: true,\r\n//     },\r\n//     usage: {\r\n//       type: String, // e.g., \"Wet & Dry Grinding\"\r\n//       required: true,\r\n//     },\r\n//     numberOfSpeeds: {\r\n//       type: Number, // e.g., 3\r\n//       required: true,\r\n//     },\r\n//     isiCertified: {\r\n//       type: Boolean, // e.g., Yes â†’ true, No â†’ false\r\n//       default: false,\r\n//     },\r\n//     warranty: {\r\n//       type: String, // e.g., \"1 year\"\r\n//       required: true,\r\n//     },\r\n//     uses: {\r\n//       type: String, // e.g., \"Domestic\"\r\n//       required: true,\r\n//     },\r\n//     bodyMaterial: {\r\n//       type: String, // e.g., \"Plastic\"\r\n//       required: true,\r\n//     },\r\n//     numberOfBlades: {\r\n//       type: Number, // e.g., 3\r\n//       required: true,\r\n//     },\r\n//     countryOfOrigin: {\r\n//       type: String, // e.g., \"Made in India\"\r\n//       required: true,\r\n//     },\r\n//     voltage: {\r\n//       type: String, // e.g., \"240V\"\r\n//       required: true,\r\n//     },\r\n//     frequency: {\r\n//       type: String, // e.g., \"50Hz\"\r\n//       required: true,\r\n//     },\r\n//     brandName: {\r\n//       type: String, // e.g., \"Mercy\"\r\n//       required: true,\r\n//     },\r\n//     modelName: {\r\n//       type: String, // e.g., \"Bonus\"\r\n//       required: true,\r\n//     },\r\n//     material: {\r\n//       type: String, // e.g., \"ABS Plastic & Stainless Steel\"\r\n//       required: true,\r\n//     },\r\n//   },\r\n//   {\r\n//     timestamps: true,\r\n//   }\r\n// );\r\n\r\n// const Product =\r\n//   mongoose.models.Product || mongoose.model(\"Product\", ProductSchema);\r\n\r\n// export default Product;\r\n\r\nimport mongoose from \"mongoose\";\r\n\r\nconst ProductSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    price: { type: Number, required: true },\r\n    description: { type: String, required: true },\r\n    images: [\r\n      {\r\n        type: String, // image URLs or file paths\r\n        required: true,\r\n      },\r\n    ],\r\n    category: { type: String, required: true },\r\n    quantity: { type: Number, default: 0, required: true, min: 0 },\r\n\r\n    // Extra details\r\n    power: { type: String, required: true },\r\n    usage: { type: String, required: true },\r\n    numberOfSpeeds: { type: Number, required: true },\r\n    isiCertified: { type: Boolean, default: false },\r\n    warranty: { type: String, required: true },\r\n    uses: { type: String, required: true },\r\n    bodyMaterial: { type: String, required: true },\r\n    numberOfBlades: { type: Number, required: true },\r\n    countryOfOrigin: { type: String, required: true },\r\n    voltage: { type: String, required: true },\r\n    frequency: { type: String, required: true },\r\n    brandName: { type: String, required: true },\r\n    modelName: { type: String, required: true },\r\n    material: { type: String, required: true },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nconst Product =\r\n  mongoose.models.Product || mongoose.model(\"Product\", ProductSchema);\r\n\r\nexport default Product;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/lib/multer.js"],"sourcesContent":["import multer from \"multer\";\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\n\r\nconst uploadDir = path.join(process.cwd(), \"public/uploads\");\r\n\r\n// Create folder if it doesn't exist\r\nif (!fs.existsSync(uploadDir)) {\r\n  fs.mkdirSync(uploadDir, { recursive: true });\r\n}\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: (req, file, cb) => {\r\n    cb(null, uploadDir);\r\n  },\r\n  filename: (req, file, cb) => {\r\n    const uniqueName = Date.now() + \"-\" + file.originalname.replace(/\\s+/g, \"_\");\r\n    cb(null, uniqueName);\r\n  },\r\n});\r\n\r\nexport const upload = multer({ storage });\r\n"],"names":[],"mappings":";;;;;;;;;AACA;AACA;;;;AAEA,MAAM,YAAY,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAE3C,oCAAoC;AACpC,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,YAAY;IAC7B,wGAAE,CAAC,SAAS,CAAC,WAAW;QAAE,WAAW;IAAK;AAC5C;AAEA,MAAM,UAAU,OAAO,WAAW,CAAC;IACjC,aAAa,CAAC,KAAK,MAAM;QACvB,GAAG,MAAM;IACX;IACA,UAAU,CAAC,KAAK,MAAM;QACpB,MAAM,aAAa,KAAK,GAAG,KAAK,MAAM,KAAK,YAAY,CAAC,OAAO,CAAC,QAAQ;QACxE,GAAG,MAAM;IACX;AACF;AAEO,MAAM,SAAS,OAAO;IAAE;AAAQ","debugId":null}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///D:/project/E-commernce-/src/app/api/product/route.js"],"sourcesContent":["// \"use server\";\r\n// import { NextResponse } from \"next/server\";\r\n// import  connectDB  from \"@/app/lib/db\";\r\n// import Product from \"@/app/models/ProductModel\";\r\n\r\n// // ðŸŸ¢ CREATE Product\r\n// export async function POST(req) {\r\n//   try {\r\n//     await connectDB();\r\n//     const body = await req.json();\r\n\r\n//     const newProduct = await Product.create(body);\r\n//     return NextResponse.json(\r\n//       { message: \"Product created successfully\", product: newProduct },\r\n//       { status: 201 }\r\n//     );\r\n//   } catch (error) {\r\n//     return NextResponse.json(\r\n//       { message: \"Error creating product\", error: error.message },\r\n//       { status: 500 }\r\n//     );\r\n//   }\r\n// }\r\n\r\n// // ðŸ”µ GET All Products\r\n// export async function GET() {\r\n//   try {\r\n//     await connectDB();\r\n//     const products = await Product.find({});\r\n//     return NextResponse.json(products, { status: 200 });\r\n//   } catch (error) {\r\n//     return NextResponse.json(\r\n//       { message: \"Error fetching products\", error: error.message },\r\n//       { status: 500 }\r\n//     );\r\n//   }\r\n// }\r\n\r\n\"use server\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { connectDB } from \"@/app/lib/db\";\r\nimport Product from \"@/app/models/ProductModel\";\r\nimport { upload } from \"@/app/lib/multer\";\r\nimport { promisify } from \"util\";\r\n\r\n// Turn multer into a promise-based middleware\r\nconst uploadMiddleware = promisify(\r\n  upload.array(\"images\", 5) // up to 5 images\r\n);\r\n\r\nexport const config = {\r\n  api: {\r\n    bodyParser: false, // disable Next.js body parser for file uploads\r\n  },\r\n};\r\n\r\n// ðŸŸ¢ POST â€” Create Product with Multiple Images\r\nexport async function POST(req) {\r\n  try {\r\n    await connectDB();\r\n\r\n    const formData = await new Promise((resolve, reject) => {\r\n      uploadMiddleware(req, {}, async (err) => {\r\n        if (err) reject(err);\r\n        else resolve(req);\r\n      });\r\n    });\r\n\r\n    const body = Object.fromEntries(formData.body ? Object.entries(formData.body) : []);\r\n\r\n    // Convert uploaded file paths to array\r\n    const imagePaths = formData.files.map(\r\n      (file) => `/uploads/${file.filename}`\r\n    );\r\n\r\n    const newProduct = await Product.create({\r\n      ...body,\r\n      images: imagePaths,\r\n    });\r\n\r\n    return NextResponse.json(\r\n      { message: \"Product created successfully\", product: newProduct },\r\n      { status: 201 }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error creating product:\", error);\r\n    return NextResponse.json(\r\n      { message: \"Error creating product\", error: error.message },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// ðŸ”µ GET â€” Fetch All Products\r\nexport async function GET() {\r\n  try {\r\n    await connectDB();\r\n    const products = await Product.find({});\r\n    return NextResponse.json(products, { status: 200 });\r\n  } catch (error) {\r\n    return NextResponse.json(\r\n      { message: \"Error fetching products\", error: error.message },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,gBAAgB;AAChB,8CAA8C;AAC9C,0CAA0C;AAC1C,mDAAmD;AAEnD,uBAAuB;AACvB,oCAAoC;AACpC,UAAU;AACV,yBAAyB;AACzB,qCAAqC;AAErC,qDAAqD;AACrD,gCAAgC;AAChC,0EAA0E;AAC1E,wBAAwB;AACxB,SAAS;AACT,sBAAsB;AACtB,gCAAgC;AAChC,qEAAqE;AACrE,wBAAwB;AACxB,SAAS;AACT,MAAM;AACN,IAAI;AAEJ,yBAAyB;AACzB,gCAAgC;AAChC,UAAU;AACV,yBAAyB;AACzB,+CAA+C;AAC/C,2DAA2D;AAC3D,sBAAsB;AACtB,gCAAgC;AAChC,sEAAsE;AACtE,wBAAwB;AACxB,SAAS;AACT,MAAM;AACN,IAAI;;;;;;;;;;;AAGJ;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,8CAA8C;AAC9C,MAAM,mBAAmB,IAAA,8GAAS,EAChC,uIAAM,CAAC,KAAK,CAAC,UAAU,GAAG,iBAAiB;;AAGtC,MAAM,SAAS;IACpB,KAAK;QACH,YAAY;IACd;AACF;AAGO,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,IAAA,sIAAS;QAEf,MAAM,WAAW,MAAM,IAAI,QAAQ,CAAC,SAAS;YAC3C,iBAAiB,KAAK,CAAC,GAAG,OAAO;gBAC/B,IAAI,KAAK,OAAO;qBACX,QAAQ;YACf;QACF;QAEA,MAAM,OAAO,OAAO,WAAW,CAAC,SAAS,IAAI,GAAG,OAAO,OAAO,CAAC,SAAS,IAAI,IAAI,EAAE;QAElF,uCAAuC;QACvC,MAAM,aAAa,SAAS,KAAK,CAAC,GAAG,CACnC,CAAC,OAAS,CAAC,SAAS,EAAE,KAAK,QAAQ,EAAE;QAGvC,MAAM,aAAa,MAAM,iJAAO,CAAC,MAAM,CAAC;YACtC,GAAG,IAAI;YACP,QAAQ;QACV;QAEA,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAgC,SAAS;QAAW,GAC/D;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAA0B,OAAO,MAAM,OAAO;QAAC,GAC1D;YAAE,QAAQ;QAAI;IAElB;AACF;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,IAAA,sIAAS;QACf,MAAM,WAAW,MAAM,iJAAO,CAAC,IAAI,CAAC,CAAC;QACrC,OAAO,gJAAY,CAAC,IAAI,CAAC,UAAU;YAAE,QAAQ;QAAI;IACnD,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAA2B,OAAO,MAAM,OAAO;QAAC,GAC3D;YAAE,QAAQ;QAAI;IAElB;AACF;;;IAvDa;IAOS;IAqCA;;AA5CT,iPAAA;AAOS,iPAAA;AAqCA,iPAAA","debugId":null}}]
}